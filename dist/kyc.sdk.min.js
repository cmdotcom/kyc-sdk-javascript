"use strict";!function(){window.console&&"undefined"!=typeof console||(console=console||{},["assert","clear","count","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","trace","warn"].map(function(e){console[e]=function(){}}));var s,a,g,c,e,l=!1,t="kyc_sdk",d="0.0.1",N={},n=new Date,b=Array.prototype,i=function(t){t&&"string"==typeof t&&(t={url:t.trim()}),t.method=t.method||"GET";var n,a=function(e){t.callback&&"function"==typeof t.callback&&t.callback(e)},c=new XMLHttpRequest,e=t.params;try{c.open(t.method,t.url)}catch(e){return void a({error:e,xhr:c})}if(c.withCredentials=t.withCredentials||!1,c.addEventListener("load",function(){if(console.log(c),4==c.readyState)if(200<=c.status&&c.status<300){try{n=JSON.parse(c.response||c.responseText)}catch(e){n=c.response||c.responseText}a({success:n,xhr:c})}else a({error:"invalid http status",xhr:c})}),c.addEventListener("error",function(){a({error:"invalid http status",xhr:c})}),t.headers)for(var i in t.headers)c.setRequestHeader(i,t.headers[i]);if("GET"==t.method&&t.params&&"object"==typeof t.params){for(var i in e=[],t.params)e.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));e=e.join("&")}try{c.send(e)}catch(e){a({error:e,xhr:c})}},w=function(e){e.headers={Authorization:"Bearer "+c.userToken},i(e)},u=function(n){if(c&&c.userToken)o(n);else{var e={url:a,method:"POST",withCredentials:!0,headers:{"Content-Type":"application/json;charset=UTF-8"},params:JSON.stringify({clientId:n.kyc.context.clientId,templateId:n.kyc.context.templateId,customerName:n.kyc.context.customerName,externalReference:n.kyc.context.externalReference,firstName:n.kyc.context.firstName,lastName:n.kyc.context.lastName,msisdn:n.kyc.context.msisdn,userIdentifier:n.kyc.context.userIdentifier}),callback:function(e){if(e.success)p("login",n),(c=e.success).data=function(e){try{var t=e.split(".")[0].replace("-","+").replace("_","/"),n=JSON.parse(window.atob(t)),a=e.split(".")[1].replace("-","+").replace("_","/"),c=JSON.parse(window.atob(a));return c.header=n,c}catch(e){return!1}}(c.userToken),o(n);else{var t="No kyc Token could be retrieved from "+a+"!";p("error",n,{error:{message:t,object:e}}),console.warn(t,e)}}};i(e)}},o=function(t){w({url:g+"/api/v1/users/me",callback:function(e){if(e.success)t.kyc.status.changed=new Date,t.kyc.context.firstName=e.success.firstName,t.kyc.context.lastName=e.success.lastName,t.kyc.context.msisdn=e.success.msisdn,p("identification",t),r(t);else{p("error",t,{error:{message:"KYC identity could not be verified!",object:e}}),console.warn("KYC identity could not be verified!",e.error)}}})},r=function(t){var e={url:g+"/api/v1/users/"+c.data.uuid+"/dossiers",callback:function(e){e.success?(t.kyc.status.changed=new Date,t.kyc.dossiers=((e.success.filter(function(e){return!0})||[]).map(function(e){return e.dossiers}).shift()||[]).filter(function(e){return!0}),p("dossiers",t),0<t.kyc.dossiers.length&&C(t)):console.warn("KYC dossiers could not be fetched!",e.error)}};w(e)},y=function(e,t){if(!window.kyc_config)return l&&console.warn("No kyc_config object found on window!"),!1;if(!window.kyc_config.authorisationEndPoint)return l&&console.warn("No kyc authorisationEndPoint on the kyc_config object!"),!1;if(!window.kyc_config.kycApiEndPoint)return l&&console.warn("No kyc kycApiEndPoint on the kyc_config object!"),!1;if(a=window.kyc_config.authorisationEndPoint,g=window.kyc_config.kycApiEndPoint,!t){if(!window.kyc_config.context)return l&&console.warn("No context object found on the kyc_config object!"),!1;t=window.kyc_config.context}if(!e){if(!window.kyc_config.elementId)return l&&console.warn("No elementId object found on the kyc_config object!"),!1;e=window.kyc_config.elementId}return e?document.getElementById(e)?{element:document.getElementById(e),context:JSON.parse(JSON.stringify(t))}:e?void 0:(l&&console.warn("The HTML element with id '"+e+"'  is not present in the DOM tree!"),!1):(l&&console.warn("No elementId is given!"),!1)},k=function(e,t){var n;return"function"==typeof Event?n=new Event(e):(n=document.createEvent("Event")).initEvent(e,!0,!0),t&&(n.detail=t),n},A=function(e){return e=e||"",window.kyc_config&&window.kyc_config.translate&&"function"==typeof window.kyc_config.translate?window.kyc_config.translate(e):e},p=function(t,e,n){var a;t&&"string"==typeof t&&e&&e.kyc&&(t=k(t.trim(),n||m(e)));try{a=JSON.parse(JSON.stringify(t))}catch(e){return void console.log(e,t,typeof t)}a.isTrusted=!0,a.type=t.type.toString(),e?function(e,t){if(e!=window&&(e.kyc.eventType=t),"createEvent"in document){var n=document.createEvent("HTMLEvents");return n.initEvent("load",!1,!0),n.kyctype=t,e.dispatchEvent(n)}e.fireEvent("onload")}(a.target=e,a.type):a.target="kyc_sdk",window.kyc_config&&window.kyc_config.onEvent&&"function"==typeof window.kyc_config.onEvent?window.kyc_config.onEvent(a):l&&console.warn("No onEvent function found on the kyc_config object!",{event:a})},x=function(e,t){var n=t||s,a=n.querySelector(e);return a?a.cloneNode(!0):(console.warn("A templating error has occured.!",{selector:e,template:n.innerHTML}),null)},f={IBAN:function(e){var t,n=String(e).toUpperCase().replace(/[^A-Z0-9]/g,""),a=n.match(/^([A-Z]{2})(\d{2})([A-Z\d]+)$/);return!(!a||n.length!=={AD:24,AE:23,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,CH:21,CR:21,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,ES:24,FI:18,FO:18,FR:27,GB:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LI:21,LT:20,LU:20,LV:21,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SE:24,SI:19,SK:24,SM:27,TN:24,TR:26}[a[1]])&&(t=(a[3]+a[1]+a[2]).replace(/[A-Z]/g,function(e){return((e||"").toString().charCodeAt(0)-55).toString()}),f.mod97(t))},mod97:function(e){for(var t,n=e.slice(0,2),a=2;a<e.length;a+=7)t=String(n)+e.substring(a,a+7),n=parseInt(t,10)%97;return n}},E=function(e){var t=e.target.getAttribute("data-value-format");switch(e.type){case"prefill":switch(t){case"PHONE_NUMBER":e.target.value=(e.target.value||"").replace(/[^0-9\s\+]/g,"").trim();break;case"IBAN":e.target.value=(e.target.value||"").toUpperCase().replace(/[^A-Z0-9\s]/g,"").trim()}return;case"tokyc":switch(t){case"PHONE_NUMBER":return void(e.target.value=(e.target.value||"").replace(/[\+]/g,"00").replace(/[^0-9]/g,"").trim())}break;case"change":switch(t){case"IBAN":e.target.setCustomValidity(f.IBAN(e.target.value||"")?"Invalid IBAN":"");break;case null:default:e.target.setCustomValidity(e.target.required&&""===(e.target.value||"").trim()?"No empty strings":"")}break;case"input":e.inputType&&"insertFromPaste"==e.inputType&&E({target:e.target,type:"prefill"});break;case"keypress":var n=e.keyCode||e.which,a=String.fromCharCode(n),c=void 0;switch(t){case"PHONE_NUMBER":if(c=["Backspace","ArrowLeft","ArrowRight",8,37,39],!/[0-9\s\+]|\./.test(a)&&c.indexOf(n)<0)return void e.preventDefault();break;case"IBAN":if(c=["Backspace","ArrowLeft","ArrowRight",8,37,39],!/[0-9\-\s\+]|\./.test(a)&&c.indexOf(n)<0)return void e.preventDefault()}}var i=(e.path||[]).filter(function(e){return!!e&&!!e.tagName&&"FORM"===e.tagName}).shift();i&&i.tagName&&b.slice.call(i.querySelectorAll("[data-kyc-task-next]")).map(function(e){e.disabled=!!i&&!i.checkValidity()})},S=function(e){e.innerHTML="";var t=x("[data-kyc-loader]",e.kyc.template);t&&e.appendChild(t),e.setAttribute("kyc-sdk-status","loading")},C=function(i){try{var e=x("[data-kyc-dossier-list]",i.kyc.template),o=e.querySelector("[data-kyc-dossier-item]"),r=(Array.prototype,o);i.kyc.dossiers.map(function(t){var e=o.cloneNode(!0),n=e.querySelector("kyc-dossier-name"),a=e.querySelector("kyc-dossier-status"),c=e.querySelector("kyc-dossier-created");e.setAttribute("data-kyc-status",t.status),n&&n.parentNode.replaceChild(document.createTextNode(t.customerName),n),a&&a.parentNode.replaceChild(document.createTextNode(A(t.status)),a),c&&c.parentNode.replaceChild(document.createTextNode(function(e){if(window.kyc_config&&window.kyc_config.formatDate&&"function"==typeof window.kyc_config.formatDate)return window.kyc_config.formatDate(e)}(new Date(t.createdAt))),c),r.parentNode.insertBefore(e,r.nextSibling),e.addEventListener("click",function(e){S(i),i.kyc.history.back=[],i.kyc.history.next=[],function(t,n){var a=t.kyc.dossiers.filter(function(e){return e.id==n}).shift();if(a)return a.tasks?T(t,a):w({url:g+"/api/v1/dossiers/"+n+"/tasks",callback:function(e){e.success?(a.tasks=e.success,T(t,a)):console.warn("KYC dossier tasks could not be fetched!",e.error)}});console.warn("KYC dossier could not be fetched!")}(i,t.id)}),r=e}),o.parentNode.removeChild(o),i.innerHTML="",i.appendChild(e),i.setAttribute("kyc-sdk-status","dossiers")}catch(e){return void console.warn("A templating error has occured while building the dossier list!",e)}},T=function(c,i){try{var e=x("[data-kyc-task-list]",c.kyc.template),t=e.querySelector("[data-kyc-dossier-title] kyc-text"),o=e.querySelector("[data-kyc-task-item]"),n=e.querySelector("[data-kyc-to-dossiers]"),r=o;t&&t.parentNode.replaceChild(document.createTextNode(i.customerName),t),b.slice.call(n.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A("Back")),e)}),n.addEventListener("click",function(){C(c)}),i.tasks.map(function(t){var e=o.cloneNode(!0),n=e.querySelector("kyc-task-name"),a=e.querySelector("kyc-task-status");e.setAttribute("data-kyc-status",t.status),n&&n.parentNode.replaceChild(document.createTextNode(t.name),n),a&&a.parentNode.replaceChild(document.createTextNode(A(t.status)),a),r.parentNode.insertBefore(e,r.nextSibling),e.addEventListener("click",function(e){S(c),c.kyc.history.back=[],c.kyc.history.next=[],function(t,n,a){var c,i;if((c=t.kyc.dossiers.filter(function(e){return e.id==n}).map(function(e){return e}).shift())&&c.tasks&&(i=c.tasks.filter(function(e){return e.id==a}).shift()))return i.checks?L(t,c,i):w({url:g+"/api/v1/tasks/"+a,callback:function(e){e.success?(i=e.success,setTimeout(function(){L(t,c,i)},1e3)):console.warn("KYC dossier tasks could not be fetched!",e.error)}});console.warn("KYC dossier could not be fetched!")}(c,i.id,t.id)}),r=e}),o.parentNode.removeChild(o),c.innerHTML="",c.appendChild(e),c.setAttribute("kyc-sdk-status","tasks")}catch(e){return void console.warn("A templating error has occured while building the dossier task list!",e)}},L=function(n,t,a,c){c=c||a.sequence.initialCheckId;var i=a.checks.filter(function(e){return e.id==c}).shift();if(i&&i.id){var o=a.sequence.transitions.filter(function(e){return e.from==c}).map(function(e){return e.defaultGoTo}).shift();try{var e=x("[data-kyc-dossier]",n.kyc.template);b.slice.call(e.querySelectorAll("[name]")).map(function(e){e.removeAttribute("name")});var r,s=e.querySelector("[data-kyc-dossier-title] kyc-text"),l=(e.querySelector(" [data-kyc-dossier-tasks-navigation]"),e.querySelector("[data-kyc-task]")),d=l.querySelector("[data-kyc-task-title] kyc-text"),u=l.querySelector("[data-kyc-check]"),y=(l.querySelector("[data-kyc-task-navigation]"),i.id.trim());s&&s.parentNode.replaceChild(document.createTextNode(t.customerName),s),d&&d.parentNode.replaceChild(document.createTextNode(a.name),d);var k=u.cloneNode(!0),p=k.querySelector("kyc-input");switch(b.slice.call(k.querySelectorAll("kyc-check-description")).map(function(e){i.definition.description?e.parentNode.replaceChild(document.createTextNode(A(i.definition.description)),e):e.parentNode.removeChild(e)}),b.slice.call(k.querySelectorAll("kyc-check-longdescription")).map(function(e){i.definition.longDescription?e.parentNode.replaceChild(document.createTextNode(A(i.definition.longDescription)),e):e.parentNode.removeChild(e)}),i.definition.method&&k.setAttribute("data-kyc-method",i.definition.method||null),i.definition.valueFormat&&k.setAttribute("data-kyc-valueformat",i.definition.valueFormat||null),i.definition.method){case"MANUAL_SINGLE_CHOICE_ENUM":case"MANUAL_MULTIPLE_CHOICE_ENUM":switch(r=p.querySelector("[data-kyc-options]").cloneNode(!1),i.definition.method){case"MANUAL_SINGLE_CHOICE_ENUM":if(i.definition.enumSpecification.length<4)(i.definition.enumSpecification||[]).map(function(t){var e=p.querySelector("[data-kyc-radiobutton]").cloneNode(!0),n=e.querySelector("[data-kyc-radio-input]");n.setAttribute("type","radio"),n.setAttribute("name",y),n.setAttribute("value",t.name),n.value=t.name,n.checked=!!i.value&&t.name.trim()===i.value.trim(),b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A(t.explanation?t.explanation:t.name)),e)}),r.appendChild(e)});else{r=p.querySelector("[data-kyc-select-input]").cloneNode(!1);var f=(p.querySelector("[data-kyc-select-input]").querySelector("option")||document.createElement("option")).cloneNode(!1);r.setAttribute("name",y),i.value||(f.value="",f.innerHTML=A("select an option"),r.appendChild(f)),(i.definition.enumSpecification||[]).map(function(e){(f=f.cloneNode(!0)).value=e.name,f.selected=!!i.value&&e.name.trim()===i.value.trim(),f.innerHTML=A(e.explanation?e.explanation:e.name),r.appendChild(f)})}break;case"MANUAL_MULTIPLE_CHOICE_ENUM":y=i.id.trim()+"[]",(i.definition.enumSpecification||[]).map(function(t){var e=p.querySelector("[data-kyc-checkbox]").cloneNode(!0),n=e.querySelector("[data-kyc-checkbox-input]");n.setAttribute("type","checkbox"),n.setAttribute("name",y),n.setAttribute("value",t.name),n.checked=!!i.value&&0<JSON.parse(i.value||"[]").filter(function(e){return e.trim()==t.name.trim()}).length,b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A(t.explanation?t.explanation:t.name)),e)}),r.appendChild(e)})}break;default:switch(i.definition.method){case"MANUAL_TEXT_INPUT":case"MANUAL_DATE_INPUT":switch(i.definition.valueFormat){case"LONG_TEXT":(r=p.querySelector("[data-kyc-textarea]").cloneNode(!0)).setAttribute("placeholder",A(i.definition.description)),r.value=i.value||null,r.setAttribute("name",y),r.required=!i.definition.optional;break;default:switch(r=p.querySelector("[data-kyc-input]").cloneNode(!0),i.definition.valueFormat){case"NATURAL_NUMBER":case"REAL_NUMBER":r.setAttribute("type","number"),"NATURAL_NUMBER"==i.definition.valueFormat&&(r.setAttribute("step",1),r.setAttribute("min",0));break;case"EMAIL":r.setAttribute("type","email");break;case"URL":r.setAttribute("type","url");break;case"PHONE_NUMBER":case"IBAN":r.setAttribute("type","tel");break;default:r.setAttribute("type","text")}r.setAttribute("placeholder",A(i.definition.description)),r.setAttribute("name",i.id),i.definition.method&&r.setAttribute("data-method",i.definition.method),i.definition.valueFormat&&r.setAttribute("data-value-format",i.definition.valueFormat),r.required=!i.definition.optional,r.value=i.value||null,E({type:"prefill",target:r})}["keypress","paste","change","input"].map(function(e){r.addEventListener(e,function(e){return E(e)})});break;case"IDIN":(r=document.createElement("div")).setAttribute("class",p.querySelector("[data-kyc-input]").getAttribute("class")),r.innerHTML="IDIN is coming soon to the web flow";break;case"RAW_DOCUMENT_SCAN":case"DOCUMENT_FILE_UPLOAD":case"SELFIE_CHECK":var m=(r=p.querySelector("[data-kyc-file]").cloneNode(!0)).querySelector("[data-kyc-file-input]"),h=(p.querySelector("kyc-placeholder"),r.querySelector("[data-kyc-file-preview]"));if(m.setAttribute("type","file"),m.setAttribute("placeholder",A(i.definition.description)),h.innerHTML=A(i.definition.description),m.addEventListener("change",function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=function(e){console.log(e,t.target.files[0]),e&&e.target&&e.target.result&&h.setAttribute("style",'background-image:url("'+e.target.result+'")')},h.innerHTML=t.target.files[0].name,e.readAsDataURL(t.target.files[0])}console.log(t)}),i.value)if(N[i.value])h.setAttribute("style",'background-image:url("'+N[i.value]+'")');else{var v={url:g+"/api/v1/uploads/"+i.value,method:"POST",callback:function(e){e.success?(N[i.value]=e.success,h.setAttribute("style",'background-image:url("'+N[i.value]+'")')):console.warn("No upload with the id "+i.value+" could be retrieved!",e.error)}};w(v)}}}p.parentNode.replaceChild(r,p),u.parentNode.replaceChild(k,u),b.slice.call(e.querySelectorAll("[data-kyc-to-dossiers]")).map(function(e){b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A("Back")),e)}),e.addEventListener("click",function(){C(n)})}),b.slice.call(e.querySelectorAll("[data-kyc-to-tasks]")).map(function(e){b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A("Back")),e)}),e.addEventListener("click",function(){T(n,t)})}),0<n.kyc.history.back.length?b.slice.call(e.querySelectorAll("[data-kyc-task-previous]")).map(function(e){b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A("Back")),e)}),e.addEventListener("click",function(){var e,t;(t=(e=n).kyc.history.back.pop())&&(e.kyc.history.next.push(t),"function"==typeof t&&t())})}):b.slice.call(e.querySelectorAll("[data-kyc-task-navigation] [data-kyc-task-previous]")).map(function(e){e.parentNode.removeChild(e)}),b.slice.call(e.querySelectorAll("[data-kyc-task-next]")).map(function(e){e.disabled=!!l&&!l.checkValidity(),b.slice.call(e.querySelectorAll("kyc-text")).map(function(e){e.parentNode.replaceChild(document.createTextNode(A("Next")),e)}),e.addEventListener("click",function(){if(l&&l.checkValidity())return i.value=y==i.id?E({type:"tokyc",target:l.querySelector('[name="'+y+'"]')}):JSON.stringify(b.slice.call(l.querySelectorAll('[name="'+y+'"]')).map(function(e){return E({type:"tokyc",target:e})})),o?(S(n),n.kyc.history.back.push(function(){S(n),L(n,t,a,i.id)}),void L(n,t,a,o)):(S(n),n.kyc.history.back.push(function(){S(n),L(n,t,a,i.id)}),void T(n,t))})}),n.innerHTML="",n.appendChild(e),n.setAttribute("kyc-sdk-status","task")}catch(e){console.warn("A templating error has occured while building the dossier task check form!",e)}}else console.warn("The check could not be determined!")},m=function(e){return{context:e.kyc.context,status:e.kyc.status}},h=function(e,t){var n,a,c,i,o=document.createElement("kyc-view"),r=y(e,t);return!!r&&(l=!0,a=r.element,c=r.context,a.kyc?(a.setAttribute("kyc-sdk-status","ready"),a.kyc.status.reset=new Date,a.kyc.context=c,i=k("reset",m(a))):(n={initialised:new Date,version:d},i=k("initialised",{status:n,context:c}),a.kyc={context:r.context,status:n,template:function(e){s=document.createElement("kyc-template");var t=document.createElement("kyc-custom-template"),n=document.createElement("kyc-default-template");return n.innerHTML='/*\x3c!-- Define the template for the dossier-list --\x3e<ul data-kyc-dossier-list><li data-kyc-dossier-item><span><kyc-dossier-name></kyc-dossier-name></span><span><kyc-dossier-status></kyc-dossier-status></span><span><kyc-dossier-created></kyc-dossier-created></span></li></ul><div data-kyc-task-list><h1 data-kyc-dossier-title><button data-kyc-to-dossiers></button><kyc-text></kyc-text></h1><ul><li data-kyc-task-item><span><kyc-task-name></kyc-task-name></span><span><kyc-task-status></kyc-task-status></span></li></ul></div>\x3c!-- Define the template for a single dossier --\x3e<div data-kyc-dossier><h1 data-kyc-dossier-title><button data-kyc-to-dossiers></button><kyc-text></kyc-text></h1><div data-kyc-dossier-tasks-navigation></div>\x3c!-- Define the template for a single task in a dossier --\x3e<form data-kyc-task><h2 data-kyc-task-title><button data-kyc-to-tasks></button><kyc-text></kyc-text></h2>\x3c!-- Define the template for a single check in a task in a dossier --\x3e<div data-kyc-check><label><kyc-check-description></kyc-check-description></label><kyc-input><input data-kyc-input class="form-control"> <textarea data-kyc-textarea class="form-control"></textarea> <select class="form-control" data-kyc-select-input></select><div data-kyc-options class="form-control form-options row"><div data-kyc-checkbox class="col-12 col-md-4 form-check"><label class="multiline"><input type="checkbox" data-kyc-checkbox-input> <span class="label"><span class="multiline"><kyc-text></kyc-text></span></span></label></div><div data-kyc-radiobutton class="col-12 col-md-4 form-radio"><label class="multiline"><input type="radio" data-kyc-radio-input> <span class="label"><span class="multiline"><kyc-text></kyc-text></span></span></label></div></div><div data-kyc-file class="form-control file-input cursor-pointer"><input type="file" class="form-control" data-kyc-file-input><div class="filepreview" data-kyc-file-preview></div></div></kyc-input><small><kyc-check-longdescription></kyc-check-longdescription></small></div>\x3c!-- Define the template the navigation between tasks in a dossier --\x3e<div data-kyc-task-navigation><button data-kyc-task-previous><kyc-text></kyc-text></button> <button data-kyc-task-next><kyc-text></kyc-text></button></div></form></div>\x3c!-- Define the template the loader --\x3e<div data-kyc-loader></div>*/',t.innerHTML=e,s.appendChild(t),s.appendChild(n),s.cloneNode(!0)}(a.innerHTML.trim()),history:{back:[],next:[]}},a.setAttribute("kyc-sdk-status","ready"),S(a),a.appendChild(o)),p(i,a),u(a),a)};if(!window[t]){window[t]={get initialised(){return n},get version(){return d},init:h};var v=k("ready",{status:{initialised:n,version:d}});p(v,window),l=!0,e=function(){y()&&h()},"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}}();